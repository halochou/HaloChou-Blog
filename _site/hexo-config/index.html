<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>hexo-config &#8211; Halo Zone</title>
<meta name="description" content="">
<meta name="keywords" content="hexo">


<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="hexo-config">
<meta property="og:description" content="ZhouYang's Tech & Life Record.">
<meta property="og:url" content="/hexo-config">
<meta property="og:site_name" content="Halo Zone">





<link rel="canonical" href="/hexo-config">
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Halo Zone Feed">


<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Google Webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700|PT+Serif:400,700,400italic' rel='stylesheet' type='text/css'>
<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.min.css">

<!--[if (lt IE 9) & (!IEMobile)]>
<link rel="stylesheet" href="/assets/css/ie.min.css">
<![endif]-->

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">


<link rel="stylesheet" href="/assets/css/styles/tomorrow-night.css">
<script src="/assets/js/vendor/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</head>

<body class="article" itemscope itemtype="http://schema.org/WebPage">

<!--[if lt IE 9]><div class="browser-upgrade alert alert-info">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]-->

<div class="navigation-wrapper">
	<div class="site-name">
		<a href="">Halo Zone</a>
	</div><!-- /.site-name -->
	<div class="top-navigation">
		<nav role="navigation" itemscope itemtype="http://schema.org/SiteNavigationElement">
		    <ul>
		        
				<li><a href="/about/" >About</a></li>
		        
				<li><a href="/articles/" >Articles</a></li>
		        
				<li><a href="/tags.html" >Tags</a></li>
		        
		        <li><i class="icon-feed"></i> <a href="/feed.xml" title="Atom/RSS feed">Feed</a>
		    </ul>
		</nav>
	</div><!-- /.top-navigation -->
</div><!-- /.navigation-wrapper -->



<div id="main" role="main" itemprop="mainContentOfPage" itemscope itemtype="http://schema.org/Blog">
  <div class="article-author-side">
    <img src="/images/bio-photo.jpg" class="bio-photo" alt="Zhou Yang bio photo"></a>
<h3>Zhou Yang</h3>
<p>Geek，Amateur Coder</p>


<a href="http://github.com/halochou" class="author-social" target="_blank"><i class="icon-github"></i> Github</a>

<a href="http://www.linkedin.com/pub/zhou-yang/79/482/6a5" class="author-social" target="_blank"><i class="icon-linkedin"></i> LinkedIn</a>



<a href="http://www.renren.com/254754341" class="author-social" target="_blank"><i class="icon-renren"></i> RenRen</a>
<a href="http://weibo.com/u/1641497954" class="author-social" target="_blank"><i class="icon-sina"></i> Weibo</a>

  </div>
  <article itemscope itemtype="http://schema.org/BlogPosting" itemprop="blogPost">
    <div class="headline-wrap">
      <h1 itemprop="name">hexo-config</h1>
      <h2></h2>
    </div><!--/ .headline-wrap -->
    <div class="article-wrap" itemprop="text">
      <p>第一次搭博客，发现这还真是个挺有意思的话题。</p>

<h1 id="section">平台选择</h1>
<p>本人基本上患有选择困难症，之前用Linux的时候，每个月换一次发行版，这次挑选博客平台时又毫无意外的花了很长时间抉择。经过一般挖掘，大致有以下几个选项。</p>

<ul>
  <li>Wordpress </li>
</ul>

<p>优点：主流博客平台，资源众多，易上手。</p>

<p>缺点：作为老牌平台，有些臃肿，我也不计划对PHP深挖，不便未来折腾；Wordpress.com因某些原因无法访问（You Know），其他国内平台又不大想用，自己搭的话，主页空间自由度不高，VPS又太贵~</p>

<ul>
  <li>Ghost</li>
</ul>

<p>主页介绍看起来很诱人，可惜没有免费服务，只能自己在本地搭个玩玩，等以后有VPS了再折腾吧。</p>

<ul>
  <li>Jekyll / Octopress</li>
</ul>

<p>Github Pages默认引擎，好多大神貌似都在用。试用了一下，还是挺不错的，符合高度定制化的Geek风格，。不过就是太折腾，都搭好了估计早就懒得写博文了……另外据说文章多了性能是个问题。</p>

<ul>
  <li>Hexo</li>
</ul>

<p>最终选定Hexo，台湾同胞的作品，难望其项背啊。看看人家的功力，再看看自己…唉……</p>

<p>优点：Hexo是一个基于Node.js的博客框架，十分简约，默认主题很优雅，效率很好，而且可以生成静态网页后自动部署到Github上，一举两得。</p>

<p>缺点：还是有点小众，资源略少，出了Bug Google未必知道。</p>

<h1 id="hexo">Hexo安装</h1>
<p><a href="http://zespia.tw/hexo/docs/setup.html">Hexo官网</a>有很详细的介绍，其实只要一个命令就足够了。</p>

<pre><code>npm install -g hexo
</code></pre>

<p>之后初始化自己的博客就齐了。</p>

<pre><code>hexo init blog
</code></pre>

<p>默认目录结构：</p>

<pre><code>.
├── _config.yml
├── package.json
├── scaffolds
├── scripts
├── source
|   ├── _drafts
|   └── _posts
└── themes
</code></pre>

<h1 id="hexo-1">Hexo优化</h1>
<p>Hexo的初始配置很简约，而且默认的评论分享模块不符合天朝国情（此处省略一万字……），还是要自己打理一下才好。做了修改之后，可以用这个命令测试一下：</p>

<pre><code>hexo server
</code></pre>

<p>或者</p>

<pre><code>hexo s
</code></pre>

<p>默认配置会在localhost:4000建立一个webserver，自行查看即可。</p>

<h2 id="section-1">主题</h2>
<p>通过npm安装过来的hexo默认主题是landscape，不是传说中的light，原因不明（下一代？没light好看），有知道的朋友还望告诉一声。</p>

<p>安装light，在blog根目录下执行：</p>

<pre><code>git clone git://github.com/tommy351/hexo-theme-light.git themes/light
</code></pre>

<p>修改<code>/_config.yml</code>：</p>

<pre><code>theme: light
</code></pre>

<h2 id="section-2">图片文件夹</h2>
<p>使用markdown写文章，插入图片的格式为<code>![图片名称](链接地址)</code>，其中链接地址是个url，这里针对hexo，可以创建<code>/source/img</code>目录，引用时用下面语句即可：</p>

<pre><code>![lable](/img/hexo-github-deploy/01.png)  
</code></pre>

<h2 id="section-3">配置网站信息</h2>
<p><code>/_config.yml</code>文件存储了该blog的全局信息，修改其中Site字段：</p>

<div class="highlight"><pre><code class="yaml">    <span class="c1"># Site</span>
    <span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">ZhouYang&#39;s Blog</span>
    <span class="l-Scalar-Plain">subtitle</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Tech &amp; Life Record</span>
    <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">author</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Zhou Yang</span>
    <span class="l-Scalar-Plain">email:halo.chou@gmail.com</span>
    <span class="l-Scalar-Plain">language</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">zh-CN</span>
    <span class="c1"># URL</span>
    <span class="l-Scalar-Plain">url</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">http://halochou.github.com</span>
</code></pre></div>

<h2 id="section-4">替换评论模块</h2>
<p>hexo默认使用国外比较流行的disqus评论模块。</p>

<p>说实话，之前没研究过，原来评论系统也可以是一个单独的提供商。disqus支持的登录帐号包括Google+、Facebook……你懂了。</p>

<p>国内提供类似服务的是<a href="http://duoshuo.com">多说</a>，注册一个帐号后可以拿到针对自己的通用代码。</p>

<p>修改<code>/themes/light/layout/_partial/comment.ejs</code>，
删除原有的关于disqus和facebook的代码：</p>

<div class="highlight"><pre><code class="html">    <span class="err">&lt;</span>% if (page.comments){ %&gt;
    <span class="nt">&lt;section</span> <span class="na">id=</span><span class="s">&quot;comment&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;h1</span> <span class="na">class=</span><span class="s">&quot;title&quot;</span><span class="nt">&gt;</span><span class="err">&lt;</span>%= __(&#39;comment&#39;) %&gt;<span class="nt">&lt;/h1&gt;</span>
      <span class="cp">&lt;! Your Code &gt;</span>
    <span class="nt">&lt;/section&gt;</span>
    <span class="err">&lt;</span>% } %&gt;
</code></pre></div>

<h2 id="section-5">替换分享模块</h2>
<p>原因同上……</p>

<p>在<a href="http://share.baidu.com/code">百度分享</a>获取代码，并在<code>themes/light/layout/_partial/article.ejs</code>中，将<code>&lt;%-partial('post/share')%&gt;</code>替换掉即可。</p>

<h2 id="feed">添加Feed</h2>
<p>虽说什么都没写呢，也根本没人来看，但是折腾是无止境的╮(╯_╰)╭</p>

<p>安装feed插件</p>

<pre><code>npm install hexo-generator-feed
</code></pre>

<p>在<code>/_config.yml</code>中，添加以下代码：</p>

<pre><code>plugins: 
- hexo-generator-feed
</code></pre>

<p>在<code>themes/light/_config.yml</code>中，修改：</p>

<pre><code>rss: /atom.xml
</code></pre>

<p>在<code>themes/light/layout/_partial/header.ejs</code>中，<code>&lt;ul&gt;</code>和<code>&lt;/ul&gt;</code>之间，添加代码：</p>

<pre><code>&lt;li&gt; &lt;a href="/atom.xml"&gt;RSS&lt;/a&gt; &lt;/li&gt;
</code></pre>

<p>如果node.js正在运行，记得重启，npm安装了插件是需要重启生效的。</p>

<h2 id="sitemap">添加sitemap模块</h2>
<p>和添加RSS类似，执行下面命令：</p>

<pre><code>npm install hexo-generator-sitemap
</code></pre>

<p>在<code>/_config.yml</code>中，添加代码：</p>

<div class="highlight"><pre><code class="html">    plugins: 
    - hexo-generator-feed
    - hexo-generator-sitemap
</code></pre></div>

<p>访问 http://halochou.github.com/sitemap.xml 即可看到网站地图。</p>

<h1 id="github">部署GitHub</h1>
<p>Hexo部署到GitHub是通过先生成静态网站代码，再<code>git push</code>到GitHub上完成的。
##建立GitHub Repo
首先新建一个Repo，名称应是username.github.com，如果不想放在这个域名的根目录里另有他法，之后再补充。</p>

<h2 id="hexo-2">向Hexo添加部署信息</h2>
<p>修改<code>/_config.yml</code>：</p>

<div class="highlight"><pre><code class="html">    deploy:
        type: github
        repo: git@github.com:halochou/halochou.github.com.git
</code></pre></div>

<h2 id="section-6">生成静态站点</h2>
<p>只需要一条命令：</p>

<pre><code>hexo generate 或者

hexo g
</code></pre>

<h2 id="section-7">部署站点</h2>
<p>还是只有一个命令：</p>

<pre><code>hexo deploy 或者

hexo d
</code></pre>

<h1 id="bug">Bug</h1>
<p>我在配置Hexo过程中，出现过<code>hexo s</code>正常，但是<code>hexo g</code>报错<code>EISDIR</code>的故障，与使用<code>hexo new page "about"</code>有关，new page在<code>/source</code>内创建了一个文件夹，但hexo g无法识别，暂未找到解决办法，建议在配置Hexo过程中多generate，节省Debug时间。</p>

      <hr />
      <footer role="contentinfo">
        <div class="article-author-bottom">
          <img src="/images/bio-photo.jpg" class="bio-photo" alt="Zhou Yang bio photo"></a>
<h3>Zhou Yang</h3>
<p>Geek，Amateur Coder</p>


<a href="http://github.com/halochou" class="author-social" target="_blank"><i class="icon-github"></i> Github</a>

<a href="http://www.linkedin.com/pub/zhou-yang/79/482/6a5" class="author-social" target="_blank"><i class="icon-linkedin"></i> LinkedIn</a>



<a href="http://www.renren.com/254754341" class="author-social" target="_blank"><i class="icon-renren"></i> RenRen</a>
<a href="http://weibo.com/u/1641497954" class="author-social" target="_blank"><i class="icon-sina"></i> Weibo</a>

        </div>
        <p class="byline"><strong>hexo-config</strong> was published on <time datetime="2014-01-08T10:10:18Z" itemprop="datePublished">January 08, 2014</time> by <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name"><a href="/about" title="About Zhou Yang" itemprop="url">Zhou Yang</a></span></span>.</p>
        <!-- Baidu Share -->
        <div class="bdsharebuttonbox"><a href="#" class="bds_more" data-cmd="more"></a><a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a><a href="#" class="bds_douban" data-cmd="douban" title="分享到豆瓣网"></a><a href="#" class="bds_linkedin" data-cmd="linkedin" title="分享到linkedin"></a><a href="#" class="bds_fbook" data-cmd="fbook" title="分享到Facebook"></a><a href="#" class="bds_twi" data-cmd="twi" title="分享到Twitter"></a><a href="#" class="bds_renren" data-cmd="renren" title="分享到人人网"></a><a href="#" class="bds_tqq" data-cmd="tqq" title="分享到腾讯微博"></a></div>
        <script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"1","bdMiniList":false,"bdPic":"","bdStyle":"2","bdSize":"24"},"share":{},"image":{"viewList":["tsina","douban","linkedin","fbook","twi","renren","tqq"],"viewText":"分享到：","viewSize":"16"},"selectShare":{"bdContainerClass":null,"bdSelectMiniList":["tsina","douban","linkedin","fbook","twi","renren","tqq"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89343201.js?cdnversion='+~(-new Date()/36e5)];</script>
      </footer>
    </div><!-- /.article-wrap -->
  </article>
</div><!-- /#main -->

<div class="footer-wrap">
  <div class="related-articles">
  <h4>You might also enjoy <small class="pull-right">(<a href="/articles">View all articles</a>)</small></h4>
    <ul>
    
      
      
      
    
      
      
      
    
      
      
      
    
    </ul>
    <hr />
  </div><!-- /.related-articles -->
  <footer>
    <!-- Duoshuo Comment BEGIN -->
    <div class="ds-thread"></div>
    <script type="text/javascript">
      var duoshuoQuery = {short_name:"halochou"};
      (function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';ds.async = true;
        ds.src = 'http://static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0]
          || document.getElementsByTagName('body')[0]).appendChild(ds);
      })();
    </script>
    <!-- Duoshuo Comment END -->
    <span>&copy; 2014 Zhou Yang. Powered by <a href="http://jekyllrb.com">Jekyll</a> using the <a href="http://mademistakes.com/">Minimal Mistakes</a> theme.</span>

  </footer>
</div><!-- /.footer-wrap -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="/assets/js/scripts.min.js"></script>


</body>
</html>



